<form [formGroup]="form" class="user-profile-form">
  <div class="profile-picture-container">
    @if (coverUrl) {
      <img class="profile-picture" [src]="coverUrl" alt="profile picture image"/>
    }
    <app-single-picture-input
      (fileSaved)="handlePictureUpload($event)"
      [withFormat]="false"
      class="profile-picture-drop"></app-single-picture-input>
  </div>


  <mat-form-field class="full-width">
    <mat-label>Prénom</mat-label>
    <input [formControl]="form.controls.firstname" matInput placeholder="Renseigner votre prénom">
    @if (form.controls.firstname.hasError('required')) {
      <mat-error>Le prénom est requis</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="full-width">
    <mat-label>Nom</mat-label>
    <input [formControl]="form.controls.lastname" matInput placeholder="Renseigner votre nom">
    @if (form.controls.lastname.hasError('required')) {
      <mat-error>Le nom est requis</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="full-width">
    <mat-label>Description</mat-label>
    <textarea [formControl]="form.controls.description" matInput placeholder="Enter a short description"></textarea>
  </mat-form-field>

  <mat-form-field class="full-width">
    <mat-label>Téléphone</mat-label>
    <input [formControl]="form.controls.phone_number" matInput placeholder="Enter your phone number" type="tel">
    @if (form.controls['phone_number'].hasError('pattern')) {
      <mat-error>Veuillez renseigner un numéro valide</mat-error>
    }
    @if (form.controls['phone_number'].hasError('required')) {
      <mat-error>Le téléphone est requis</mat-error>
    }
  </mat-form-field>

</form>
